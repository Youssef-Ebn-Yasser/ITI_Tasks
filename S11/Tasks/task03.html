<!DOCTYPE html>
<html lang="en">
<head>

    <title>task03</title>
<style>

    .card {
        margin-bottom: 10px;
        width: 250px;
        border:1px solid black;
        background: white;
    }

    .card img {
        width: 100%;
        height: 140px;
    }

    .card-body {
        padding: 15px;
    }

    .card-body h3 {
        margin: 5px 0;
    }

    .card-body p {
        margin: 4px 0;
        font-size: 14px;
        color: #444;
    }

    .icons {
        margin-right: 6px;
    }

    .title {
        text-align: center;
        margin-bottom: 20px;
        font-size: 22px;
    }
</style>
</head>
<body>
<script>
        function renderCard(country, title = "") {
        return `
            <div class="card">
            <img src="${country.flag}" alt="${country.name} flag">
            <div class="card-body">
                <h3>${country.name}</h3>
                <p><b>${country.region}</b></p>
                <p><span class="icons">üë´</span>${(country.population/1_000_000).toFixed(1)} M People</p>
                <p><span class="icons">üó£Ô∏è</span>${country.languages[0].name}</p>
                <p><span class="icons">üí∞</span>${country.currencies[0].name}</p>
            </div>
            </div>
        `;
        }

        function getCountryData(countryName) {
        fetch(`https://restcountries.com/v2/name/${countryName}`)
            .then(response => {
            if (!response.ok) {
                throw new Error(`Country not found (${response.status})`);
            }
            return response.json();
            })
            .then(data => {
            const country = data[0];
            document.body.innerHTML += renderCard(country);

            const neighbour = country.borders?.[0];
            if (!neighbour) {
                throw new Error("No neighboring countries found!");
            }

            return fetch(`https://restcountries.com/v2/alpha/${neighbour}`);
            })
            .then(response => {
            if (!response.ok) {
                throw new Error(`Neighbor not found (${response.status})`);
            }
            return response.json();
            })
            .then(neighbourData => {
            document.body.innerHTML += renderCard(neighbourData, "Neighbour Country");
            })
            .catch(err => {
            document.body.innerHTML = `<p style="color:red;">Error: ${err.message}</p>`;
            });
        }

    let countryName = prompt("Enter country:");

    getCountryData(countryName);

</script>
</body>
</html>
